{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMakeFee = void 0;\n\nvar is_nft_1 = require(\"./is-nft\");\n\nfunction getMakeFee(fees, order) {\n  if (order.type === \"RARIBLE_V2\") {\n    return getMakeFeeV2(fees, order);\n  } else {\n    return 0;\n  }\n}\n\nexports.getMakeFee = getMakeFee;\n\nfunction getMakeFeeV2(fees, order) {\n  //todo fee may be lower than this (if take is not NFT too)\n  if (!is_nft_1.isNft(order.make.assetType)) {\n    if (order.data.dataType !== \"RARIBLE_V2_DATA_V1\") {\n      throw new Error(\"Type \" + order.data.dataType + \" not supported for V2 orders\");\n    }\n\n    var originFees = order.data.originFees.map(function (f) {\n      return f.value;\n    }).reduce(function (v, acc) {\n      return v + acc;\n    }, 0);\n    return fees.v2 + originFees;\n  } else {\n    return 0;\n  }\n}","map":{"version":3,"sources":["/home/abhishek/Code/nft-template/node_modules/@rarible/protocol-ethereum-sdk/build/order/get-make-fee.js"],"names":["Object","defineProperty","exports","value","getMakeFee","is_nft_1","require","fees","order","type","getMakeFeeV2","isNft","make","assetType","data","dataType","Error","originFees","map","f","reduce","v","acc","v2"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,UAAR,GAAqB,KAAK,CAA1B;;AACA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAtB;;AACA,SAASF,UAAT,CAAoBG,IAApB,EAA0BC,KAA1B,EAAiC;AAC7B,MAAIA,KAAK,CAACC,IAAN,KAAe,YAAnB,EAAiC;AAC7B,WAAOC,YAAY,CAACH,IAAD,EAAOC,KAAP,CAAnB;AACH,GAFD,MAGK;AACD,WAAO,CAAP;AACH;AACJ;;AACDN,OAAO,CAACE,UAAR,GAAqBA,UAArB;;AACA,SAASM,YAAT,CAAsBH,IAAtB,EAA4BC,KAA5B,EAAmC;AAC/B;AACA,MAAI,CAACH,QAAQ,CAACM,KAAT,CAAeH,KAAK,CAACI,IAAN,CAAWC,SAA1B,CAAL,EAA2C;AACvC,QAAIL,KAAK,CAACM,IAAN,CAAWC,QAAX,KAAwB,oBAA5B,EAAkD;AAC9C,YAAM,IAAIC,KAAJ,CAAU,UAAUR,KAAK,CAACM,IAAN,CAAWC,QAArB,GAAgC,8BAA1C,CAAN;AACH;;AACD,QAAIE,UAAU,GAAGT,KAAK,CAACM,IAAN,CAAWG,UAAX,CAAsBC,GAAtB,CAA0B,UAAUC,CAAV,EAAa;AAAE,aAAOA,CAAC,CAAChB,KAAT;AAAiB,KAA1D,EAA4DiB,MAA5D,CAAmE,UAAUC,CAAV,EAAaC,GAAb,EAAkB;AAAE,aAAOD,CAAC,GAAGC,GAAX;AAAiB,KAAxG,EAA0G,CAA1G,CAAjB;AACA,WAAOf,IAAI,CAACgB,EAAL,GAAUN,UAAjB;AACH,GAND,MAOK;AACD,WAAO,CAAP;AACH;AACJ","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMakeFee = void 0;\nvar is_nft_1 = require(\"./is-nft\");\nfunction getMakeFee(fees, order) {\n    if (order.type === \"RARIBLE_V2\") {\n        return getMakeFeeV2(fees, order);\n    }\n    else {\n        return 0;\n    }\n}\nexports.getMakeFee = getMakeFee;\nfunction getMakeFeeV2(fees, order) {\n    //todo fee may be lower than this (if take is not NFT too)\n    if (!is_nft_1.isNft(order.make.assetType)) {\n        if (order.data.dataType !== \"RARIBLE_V2_DATA_V1\") {\n            throw new Error(\"Type \" + order.data.dataType + \" not supported for V2 orders\");\n        }\n        var originFees = order.data.originFees.map(function (f) { return f.value; }).reduce(function (v, acc) { return v + acc; }, 0);\n        return fees.v2 + originFees;\n    }\n    else {\n        return 0;\n    }\n}\n"]},"metadata":{},"sourceType":"script"}